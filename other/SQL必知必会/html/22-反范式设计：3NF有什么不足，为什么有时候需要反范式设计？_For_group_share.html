<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>22-åèŒƒå¼è®¾è®¡ï¼š3NFæœ‰ä»€ä¹ˆä¸è¶³ï¼Œä¸ºä»€ä¹ˆæœ‰æ—¶å€™éœ€è¦åèŒƒå¼è®¾è®¡ï¼Ÿ</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <style>
        html {
            color: #333;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-rendering: optimizelegibility;
            font-family: Helvetica Neue, PingFang SC, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif
        }

        html.borderbox *,
        html.borderbox :after,
        html.borderbox :before {
            box-sizing: border-box
        }

        article,
        aside,
        blockquote,
        body,
        button,
        code,
        dd,
        details,
        dl,
        dt,
        fieldset,
        figcaption,
        figure,
        footer,
        form,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        header,
        hr,
        input,
        legend,
        li,
        menu,
        nav,
        ol,
        p,
        pre,
        section,
        td,
        textarea,
        th,
        ul {
            margin: 0;
            padding: 0
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        menu,
        nav,
        section {
            display: block
        }

        audio,
        canvas,
        video {
            display: inline-block
        }

        body,
        button,
        input,
        select,
        textarea {
            font: 300 1em/1.8 PingFang SC, Lantinghei SC, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, Helvetica, sans-serif
        }

        button::-moz-focus-inner,
        input::-moz-focus-inner {
            padding: 0;
            border: 0
        }

        table {
            border-collapse: collapse;
            border-spacing: 0
        }

        fieldset,
        img {
            border: 0
        }

        blockquote {
            position: relative;
            color: #999;
            font-weight: 400;
            border-left: 1px solid #1abc9c;
            padding-left: 1em;
            margin: 1em 3em 1em 2em
        }

        @media only screen and (max-width: 640px) {
            blockquote {
                margin: 1em 0
            }
        }

        abbr,
        acronym {
            border-bottom: 1px dotted;
            font-variant: normal
        }

        abbr {
            cursor: help
        }

        del {
            text-decoration: line-through
        }

        address,
        caption,
        cite,
        code,
        dfn,
        em,
        th,
        var {
            font-style: normal;
            font-weight: 400
        }

        ol,
        ul {
            list-style: none
        }

        caption,
        th {
            text-align: left
        }

        q:after,
        q:before {
            content: ""
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative
        }

        :root sub,
        :root sup {
            vertical-align: baseline
        }

        sup {
            top: -.5em
        }

        sub {
            bottom: -.25em
        }

        a {
            color: #1abc9c
        }

        a:hover {
            text-decoration: underline
        }

        .typo a {
            border-bottom: 1px solid #1abc9c
        }

        .typo a:hover {
            border-bottom-color: #555;
            color: #555
        }

        .typo a:hover,
        a,
        ins {
            text-decoration: none
        }

        .typo-u,
        u {
            text-decoration: underline
        }

        mark {
            background: #fffdd1;
            border-bottom: 1px solid #ffedce;
            padding: 2px;
            margin: 0 5px
        }

        code,
        pre,
        pre tt {
            font-family: Courier, Courier New, monospace
        }

        pre {
            background: hsla(0, 0%, 97%, .7);
            border: 1px solid #ddd;
            padding: 1em 1.5em;
            display: block;
            -webkit-overflow-scrolling: touch
        }

        hr {
            border: none;
            border-bottom: 1px solid #cfcfcf;
            margin-bottom: .8em;
            height: 10px
        }

        .typo-small,
        figcaption,
        small {
            font-size: .9em;
            color: #888
        }

        b,
        strong {
            font-weight: 700;
            color: #000
        }

        [draggable] {
            cursor: move
        }

        .clearfix:after,
        .clearfix:before {
            content: "";
            display: table
        }

        .clearfix:after {
            clear: both
        }

        .clearfix {
            zoom: 1
        }

        .textwrap,
        .textwrap td,
        .textwrap th {
            word-wrap: break-word;
            word-break: break-all
        }

        .textwrap-table {
            table-layout: fixed
        }

        .serif {
            font-family: Palatino, Optima, Georgia, serif
        }

        .typo-dl,
        .typo-form,
        .typo-hr,
        .typo-ol,
        .typo-p,
        .typo-pre,
        .typo-table,
        .typo-ul,
        .typo dl,
        .typo form,
        .typo hr,
        .typo ol,
        .typo p,
        .typo pre,
        .typo table,
        .typo ul,
        blockquote {
            margin-bottom: 1rem
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: PingFang SC, Helvetica Neue, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif;
            color: #000;
            line-height: 1.35
        }

        .typo-h1,
        .typo-h2,
        .typo-h3,
        .typo-h4,
        .typo-h5,
        .typo-h6,
        .typo h1,
        .typo h2,
        .typo h3,
        .typo h4,
        .typo h5,
        .typo h6 {
            margin-top: 1.2em;
            margin-bottom: .6em;
            line-height: 1.35
        }

        .typo-h1,
        .typo h1 {
            font-size: 2em
        }

        .typo-h2,
        .typo h2 {
            font-size: 1.8em
        }

        .typo-h3,
        .typo h3 {
            font-size: 1.6em
        }

        .typo-h4,
        .typo h4 {
            font-size: 1.4em
        }

        .typo-h5,
        .typo-h6,
        .typo h5,
        .typo h6 {
            font-size: 1.2em
        }

        .typo-ul,
        .typo ul {
            margin-left: 1.3em;
            list-style: disc
        }

        .typo-ol,
        .typo ol {
            list-style: decimal;
            margin-left: 1.9em
        }

        .typo-ol ol,
        .typo-ol ul,
        .typo-ul ol,
        .typo-ul ul,
        .typo li ol,
        .typo li ul {
            margin-bottom: .8em;
            margin-left: 2em
        }

        .typo-ol ul,
        .typo-ul ul,
        .typo li ul {
            list-style: circle
        }

        .typo-table td,
        .typo-table th,
        .typo table caption,
        .typo table td,
        .typo table th {
            border: 1px solid #ddd;
            padding: .5em 1em;
            color: #666
        }

        .typo-table th,
        .typo table th {
            background: #fbfbfb
        }

        .typo-table thead th,
        .typo table thead th {
            background: hsla(0, 0%, 95%, .7)
        }

        .typo table caption {
            border-bottom: none
        }

        .typo-input,
        .typo-textarea {
            -webkit-appearance: none;
            border-radius: 0
        }

        .typo-em,
        .typo em,
        caption,
        legend {
            color: #000;
            font-weight: inherit
        }

        .typo-em {
            position: relative
        }

        .typo-em:after {
            position: absolute;
            top: .65em;
            left: 0;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"
        }

        .typo img {
            max-width: 100%
        }

        .common-content {
            font-weight: 400;
            color: #353535;
            line-height: 1.75rem;
            white-space: normal;
            word-break: normal;
            font-size: 1rem
        }

        .common-content img {
            display: block;
            max-width: 100%;
            background-color: #eee
        }

        .common-content audio,
        .common-content video {
            width: 100%;
            background-color: #eee
        }

        .common-content center,
        .common-content font {
            margin-top: 1rem;
            display: inline-block
        }

        .common-content center {
            width: 100%
        }

        .common-content pre {
            margin-top: 1rem;
            padding-left: 0;
            padding-right: 0;
            position: relative;
            overflow: hidden
        }

        .common-content pre code {
            font-size: .8rem;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            width: 100%;
            box-sizing: border-box;
            padding-left: 1rem;
            padding-right: 1rem;
            overflow-x: auto
        }

        .common-content hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        .common-content b,
        .common-content h1,
        .common-content h2,
        .common-content h3,
        .common-content h4,
        .common-content h5,
        .common-content strong {
            font-weight: 700
        }

        .common-content h1,
        .common-content h2 {
            font-size: 1.125rem;
            margin-bottom: .45rem
        }

        .common-content h3,
        .common-content h4,
        .common-content h5 {
            font-size: 1rem;
            margin-bottom: .45rem
        }

        .common-content p {
            font-weight: 400;
            color: #353535;
            margin-top: .15rem
        }

        .common-content .orange {
            color: #ff5a05
        }

        .common-content .reference {
            font-size: 1rem;
            color: #888
        }

        .custom-rich-content h1 {
            margin-top: 0;
            font-weight: 400;
            font-size: 15.25px;
            border-bottom: 1px solid #eee;
            line-height: 2.8
        }

        .custom-rich-content li,
        .custom-rich-content p {
            font-size: 14px;
            color: #888;
            line-height: 1.6
        }

        table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        table.hljs-ln,
        table.hljs-ln tbody,
        table.hljs-ln td,
        table.hljs-ln tr {
            box-sizing: border-box
        }

        table.hljs-ln td {
            padding: 0;
            border: 0
        }

        table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            user-select: none
        }

        table.hljs-ln td.hljs-ln-code,
        table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            font-size: 12px;
            line-height: 20px;
            vertical-align: top
        }

        table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            color: #24292e;
            word-wrap: normal;
            white-space: pre
        }

        video::-webkit-media-controls {
            overflow: hidden !important
        }

        video::-webkit-media-controls-enclosure {
            width: calc(100% + 32px);
            margin-left: auto
        }

        ._29HP61GA_0 {
            max-width:800px;
            margin:0 auto;
            margin-bottom: 20px;
            font-weight: 400;
            color: #353535;
            line-height: 1.76;
            white-space: normal;
            word-break: normal;
            font-size: 17px;
            -webkit-transition: background-color .3s ease;
            transition: background-color .3s ease
        }

        ._29HP61GA_0 .MathJax_Display {
            overflow: auto
        }

        ._29HP61GA_0 .poster {
            position: fixed;
            left: -10000px;
            top: -10000px;
            overflow: hidden;
            padding: 1rem;
            background: #ececec
        }

        ._29HP61GA_0 .richcontent-pre-copy {
            font-size: 13px;
            color: #888;
            position: absolute;
            right: 1em;
            top: .5em;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 .richcontent-pre-copy .iconfont {
            font-size: 12px;
            margin-right: .2em
        }

        ._29HP61GA_0 a {
            color: #fa8919;
            border-bottom: 1px solid #fa8919
        }

        ._29HP61GA_0 img {
            display: block;
            max-width: 100%;
            position: relative;
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            background-color: #eee;
            vertical-align: top;
            border-radius: 0
        }

        ._29HP61GA_0 audio,
        ._29HP61GA_0 video {
            width: 100%;
            background-color: #eee
        }

        ._29HP61GA_0 pre {
            margin-top: 16px;
            padding: 34px 0 0;
            margin-bottom: 30px;
            position: relative;
            border-radius: 6px;
            background: rgba(246, 247, 251, .749);
            border: 0
        }

        ._29HP61GA_0 pre code {
            font-size: 12px;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            margin-left: 16px;
            margin-right: 16px;
            overflow-x: scroll
        }

        ._29HP61GA_0 pre code:after {
            content: "";
            height: 30px;
            width: 100%;
            display: block
        }

        ._29HP61GA_0 hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        ._29HP61GA_0 h1,
        ._29HP61GA_0 h2,
        ._29HP61GA_0 h3,
        ._29HP61GA_0 h4,
        ._29HP61GA_0 h5 {
            margin-bottom: 20px;
            margin-top: 0;
            font-weight: 700
        }

        ._29HP61GA_0 b,
        ._29HP61GA_0 strong {
            font-weight: 700
        }

        ._29HP61GA_0 h1 {
            font-size: 21px
        }

        ._29HP61GA_0 h2 {
            font-size: 20px
        }

        ._29HP61GA_0 h3 {
            font-size: 19px
        }

        ._29HP61GA_0 h4 {
            font-size: 18px
        }

        ._29HP61GA_0 h5 {
            font-size: 17px
        }

        ._29HP61GA_0 center,
        ._29HP61GA_0 p {
            font-weight: 400;
            color: #353535;
            margin-top: 0;
            margin-bottom: 30px;
            word-break: break-word
        }

        ._29HP61GA_0 center {
            text-align: center
        }

        ._29HP61GA_0 blockquote {
            margin-top: 0;
            margin-bottom: 34px;
            border-left: 3px solid #e8e8e8;
            padding-left: 17px;
            color: #353535
        }

        ._29HP61GA_0 blockquote p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol,
        ._29HP61GA_0 ul {
            margin-bottom: 30px
        }

        ._29HP61GA_0 ol p,
        ._29HP61GA_0 ul p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol {
            list-style: decimal;
            margin-left: 20px
        }

        ._29HP61GA_0 ul li {
            padding-left: 17px;
            position: relative;
            margin-bottom: 10px
        }

        ._29HP61GA_0 ul li:after {
            content: "";
            height: 6px;
            width: 6px;
            border-radius: 50%;
            background: #353535;
            position: absolute;
            top: 10px;
            left: 0
        }

        ._29HP61GA_0 .orange {
            color: #fa8919
        }

        ._29HP61GA_0 .reference {
            color: #888
        }

        ._29HP61GA_0 .m-right {
            text-align: right
        }

        ._29HP61GA_0 .m-center {
            text-align: center;
            display: block
        }

        ._29HP61GA_0 .m-gray {
            color: #888
        }

        ._29HP61GA_0 .m-small {
            font-size: 15px
        }

        ._29HP61GA_0 table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        ._29HP61GA_0 table.hljs-ln,
        ._29HP61GA_0 table.hljs-ln tbody,
        ._29HP61GA_0 table.hljs-ln td,
        ._29HP61GA_0 table.hljs-ln tr {
            -webkit-box-sizing: border-box;
            box-sizing: border-box
        }

        ._29HP61GA_0 table.hljs-ln td {
            padding: 0;
            border: 0
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            font-size: 12px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code,
        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            line-height: 20px;
            vertical-align: top
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            font-size: 13px;
            color: #666;
            word-wrap: normal;
            white-space: pre
        }

    </style>
</head>
<body>
<div class="_29HP61GA_0">
<h1>22-åèŒƒå¼è®¾è®¡ï¼š3NFæœ‰ä»€ä¹ˆä¸è¶³ï¼Œä¸ºä»€ä¹ˆæœ‰æ—¶å€™éœ€è¦åèŒƒå¼è®¾è®¡ï¼Ÿ</h1>
<p>ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†æ•°æ®è¡¨è®¾è®¡çš„ä¸‰ç§èŒƒå¼ã€‚ä½œä¸ºæ•°æ®åº“çš„è®¾è®¡äººå‘˜ï¼Œç†è§£èŒƒå¼çš„è®¾è®¡ä»¥åŠåèŒƒå¼ä¼˜åŒ–æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚</p><p>ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿäº†è§£ä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„å†…å®¹ä¹‹åä½ å°±æ˜ç™½äº†ã€‚</p><ol>
<li>3NFæœ‰ä»€ä¹ˆä¸è¶³ï¼Ÿé™¤äº†3NFï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜éœ€è¦BCNFï¼Ÿ</li>
<li>æœ‰äº†èŒƒå¼è®¾è®¡ï¼Œä¸ºä»€ä¹ˆæœ‰æ—¶å€™éœ€è¦è¿›è¡ŒåèŒƒå¼è®¾è®¡ï¼Ÿ</li>
<li>åèŒƒå¼è®¾è®¡é€‚ç”¨çš„åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿåˆå¯èƒ½å­˜åœ¨å“ªäº›é—®é¢˜ï¼Ÿ</li>
</ol><h2>BCNFï¼ˆå·´æ–¯èŒƒå¼ï¼‰</h2><p>å¦‚æœæ•°æ®è¡¨çš„å…³ç³»æ¨¡å¼ç¬¦åˆ3NFçš„è¦æ±‚ï¼Œå°±ä¸å­˜åœ¨é—®é¢˜äº†å—ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸‹è¿™å¼ ä»“åº“ç®¡ç†å…³ç³»warehouse_keeperè¡¨ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/8b/17/8b543855d7c005b3e1b0ee3fbb308b17.png" alt=""><br>
åœ¨è¿™ä¸ªæ•°æ®è¡¨ä¸­ï¼Œä¸€ä¸ªä»“åº“åªæœ‰ä¸€ä¸ªç®¡ç†å‘˜ï¼ŒåŒæ—¶ä¸€ä¸ªç®¡ç†å‘˜ä¹Ÿåªç®¡ç†ä¸€ä¸ªä»“åº“ã€‚æˆ‘ä»¬å…ˆæ¥æ¢³ç†ä¸‹è¿™äº›å±æ€§ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</p><p>ä»“åº“åå†³å®šäº†ç®¡ç†å‘˜ï¼Œç®¡ç†å‘˜ä¹Ÿå†³å®šäº†ä»“åº“åï¼ŒåŒæ—¶ï¼ˆä»“åº“åï¼Œç‰©å“åï¼‰çš„å±æ€§é›†åˆå¯ä»¥å†³å®šæ•°é‡è¿™ä¸ªå±æ€§ã€‚</p><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‰¾åˆ°æ•°æ®è¡¨çš„å€™é€‰é”®æ˜¯ï¼ˆç®¡ç†å‘˜ï¼Œç‰©å“åï¼‰å’Œï¼ˆä»“åº“åï¼Œç‰©å“åï¼‰ï¼Œ</p><p>ç„¶åæˆ‘ä»¬ä»å€™é€‰é”®ä¸­é€‰æ‹©ä¸€ä¸ªä½œä¸ºä¸»é”®ï¼Œæ¯”å¦‚ï¼ˆä»“åº“åï¼Œç‰©å“åï¼‰ã€‚</p><p>åœ¨è¿™é‡Œï¼Œä¸»å±æ€§æ˜¯åŒ…å«åœ¨ä»»ä¸€å€™é€‰é”®ä¸­çš„å±æ€§ï¼Œä¹Ÿå°±æ˜¯ä»“åº“åï¼Œç®¡ç†å‘˜å’Œç‰©å“åã€‚éä¸»å±æ€§æ˜¯æ•°é‡è¿™ä¸ªå±æ€§ã€‚</p><p>å¦‚ä½•åˆ¤æ–­ä¸€å¼ è¡¨çš„èŒƒå¼å‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦æ ¹æ®èŒƒå¼çš„ç­‰çº§ï¼Œä»ä½åˆ°é«˜æ¥è¿›è¡Œåˆ¤æ–­ã€‚</p><p>é¦–å…ˆï¼Œæ•°æ®è¡¨æ¯ä¸ªå±æ€§éƒ½æ˜¯åŸå­æ€§çš„ï¼Œç¬¦åˆ1NFçš„è¦æ±‚ï¼›å…¶æ¬¡ï¼Œæ•°æ®è¡¨ä¸­éä¸»å±æ€§â€æ•°é‡â€œéƒ½ä¸å€™é€‰é”®å…¨éƒ¨ä¾èµ–ï¼Œï¼ˆä»“åº“åï¼Œç‰©å“åï¼‰å†³å®šæ•°é‡ï¼Œï¼ˆç®¡ç†å‘˜ï¼Œç‰©å“åï¼‰å†³å®šæ•°é‡ï¼Œå› æ­¤ï¼Œæ•°æ®è¡¨ç¬¦åˆ2NFçš„è¦æ±‚ï¼›æœ€åï¼Œæ•°æ®è¡¨ä¸­çš„éä¸»å±æ€§ï¼Œä¸ä¼ é€’ä¾èµ–äºå€™é€‰é”®ã€‚å› æ­¤ç¬¦åˆ3NFçš„è¦æ±‚ã€‚</p><!-- [[[read_end]]] --><p>æ—¢ç„¶æ•°æ®è¡¨å·²ç»ç¬¦åˆäº†3NFçš„è¦æ±‚ï¼Œæ˜¯ä¸æ˜¯å°±ä¸å­˜åœ¨é—®é¢˜äº†å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸‹ä¸‹é¢çš„æƒ…å†µï¼š</p><ol>
<li>å¢åŠ ä¸€ä¸ªä»“åº“ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å­˜æ”¾ä»»ä½•ç‰©å“ã€‚æ ¹æ®æ•°æ®è¡¨å®ä½“å®Œæ•´æ€§çš„è¦æ±‚ï¼Œä¸»é”®ä¸èƒ½æœ‰ç©ºå€¼ï¼Œå› æ­¤ä¼šå‡ºç°æ’å…¥å¼‚å¸¸ï¼›</li>
<li>å¦‚æœä»“åº“æ›´æ¢äº†ç®¡ç†å‘˜ï¼Œæˆ‘ä»¬å°±å¯èƒ½ä¼šä¿®æ”¹æ•°æ®è¡¨ä¸­çš„å¤šæ¡è®°å½•ï¼›</li>
<li>å¦‚æœä»“åº“é‡Œçš„å•†å“éƒ½å–ç©ºäº†ï¼Œé‚£ä¹ˆæ­¤æ—¶ä»“åº“åç§°å’Œç›¸åº”çš„ç®¡ç†å‘˜åç§°ä¹Ÿä¼šéšä¹‹è¢«åˆ é™¤ã€‚</li>
</ol><p>ä½ èƒ½çœ‹åˆ°ï¼Œå³ä¾¿æ•°æ®è¡¨ç¬¦åˆ3NFçš„è¦æ±‚ï¼ŒåŒæ ·å¯èƒ½å­˜åœ¨æ’å…¥ï¼Œæ›´æ–°å’Œåˆ é™¤æ•°æ®çš„å¼‚å¸¸æƒ…å†µã€‚</p><p>è¿™ç§æƒ…å†µä¸‹è¯¥æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ</p><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç¡®è®¤é€ æˆå¼‚å¸¸çš„åŸå› ï¼šä¸»å±æ€§ä»“åº“åå¯¹äºå€™é€‰é”®ï¼ˆç®¡ç†å‘˜ï¼Œç‰©å“åï¼‰æ˜¯éƒ¨åˆ†ä¾èµ–çš„å…³ç³»ï¼Œè¿™æ ·å°±æœ‰å¯èƒ½å¯¼è‡´ä¸Šé¢çš„å¼‚å¸¸æƒ…å†µã€‚äººä»¬åœ¨3NFçš„åŸºç¡€ä¸Šè¿›è¡Œäº†æ”¹è¿›ï¼Œæå‡ºäº†<strong>BCNFï¼Œä¹Ÿå«åšå·´æ–¯-ç§‘å¾·èŒƒå¼ï¼Œå®ƒåœ¨3NFçš„åŸºç¡€ä¸Šæ¶ˆé™¤äº†ä¸»å±æ€§å¯¹å€™é€‰é”®çš„éƒ¨åˆ†ä¾èµ–æˆ–è€…ä¼ é€’ä¾èµ–å…³ç³»</strong>ã€‚</p><p>æ ¹æ®BCNFçš„è¦æ±‚ï¼Œæˆ‘ä»¬éœ€è¦æŠŠä»“åº“ç®¡ç†å…³ç³»warehouse_keeperè¡¨æ‹†åˆ†æˆä¸‹é¢è¿™æ ·ï¼š</p><p>ä»“åº“è¡¨ï¼šï¼ˆä»“åº“åï¼Œç®¡ç†å‘˜ï¼‰</p><p>åº“å­˜è¡¨ï¼šï¼ˆä»“åº“åï¼Œç‰©å“åï¼Œæ•°é‡ï¼‰</p><p>è¿™æ ·å°±ä¸å­˜åœ¨ä¸»å±æ€§å¯¹äºå€™é€‰é”®çš„éƒ¨åˆ†ä¾èµ–æˆ–ä¼ é€’ä¾èµ–ï¼Œä¸Šé¢æ•°æ®è¡¨çš„è®¾è®¡å°±ç¬¦åˆBCNFã€‚</p><h2>åèŒƒå¼è®¾è®¡</h2><p>å°½ç®¡å›´ç»•ç€æ•°æ®è¡¨çš„è®¾è®¡æœ‰å¾ˆå¤šèŒƒå¼ï¼Œä½†äº‹å®ä¸Šï¼Œæˆ‘ä»¬åœ¨è®¾è®¡æ•°æ®è¡¨çš„æ—¶å€™å´ä¸ä¸€å®šè¦å‚ç…§è¿™äº›æ ‡å‡†ã€‚</p><p>æˆ‘ä»¬åœ¨ä¹‹å‰å·²ç»äº†è§£äº†è¶Šé«˜é˜¶çš„èŒƒå¼å¾—åˆ°çš„æ•°æ®è¡¨è¶Šå¤šï¼Œæ•°æ®å†—ä½™åº¦è¶Šä½ã€‚ä½†æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡æ•°æ®è¡¨çš„æ—¶å€™ï¼Œè¿˜éœ€è¦ä¸ºäº†æ€§èƒ½å’Œè¯»å–æ•ˆç‡è¿åèŒƒå¼åŒ–çš„åŸåˆ™ã€‚åèŒƒå¼å°±æ˜¯ç›¸å¯¹èŒƒå¼åŒ–è€Œè¨€çš„ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯å…è®¸å°‘é‡çš„å†—ä½™ï¼Œé€šè¿‡ç©ºé—´æ¥æ¢æ—¶é—´ã€‚</p><p>å¦‚æœæˆ‘ä»¬æƒ³å¯¹æŸ¥è¯¢æ•ˆç‡è¿›è¡Œä¼˜åŒ–ï¼Œæœ‰æ—¶å€™åèŒƒå¼ä¼˜åŒ–ä¹Ÿæ˜¯ä¸€ç§ä¼˜åŒ–æ€è·¯ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬æƒ³è¦æŸ¥è¯¢æŸä¸ªå•†å“çš„å‰1000æ¡è¯„è®ºï¼Œä¼šæ¶‰åŠåˆ°ä¸¤å¼ è¡¨ã€‚</p><p>å•†å“è¯„è®ºè¡¨product_commentï¼Œå¯¹åº”çš„å­—æ®µåç§°åŠå«ä¹‰å¦‚ä¸‹ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/4c/b1/4c08f4fe07414ef26a48c1c0c52590b1.png" alt=""></p><p>ç”¨æˆ·è¡¨userï¼Œå¯¹åº”çš„å­—æ®µåç§°åŠå«ä¹‰å¦‚ä¸‹ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/7d/f2/7daa1d6b0f5b42cd79e024d49ecf91f2.png" alt=""><br>
ä¸‹é¢ï¼Œæˆ‘ä»¬å°±ç”¨è¿™ä¸¤å¼ è¡¨æ¨¡æ‹Ÿä¸€ä¸‹åèŒƒå¼ä¼˜åŒ–ã€‚</p><h2>å®éªŒæ•°æ®ï¼šæ¨¡æ‹Ÿä¸¤å¼ ç™¾ä¸‡é‡çº§çš„æ•°æ®è¡¨</h2><p>ä¸ºäº†æ›´å¥½åœ°è¿›è¡ŒSQLä¼˜åŒ–å®éªŒï¼Œæˆ‘ä»¬éœ€è¦ç»™ç”¨æˆ·è¡¨å’Œå•†å“è¯„è®ºè¡¨éšæœºæ¨¡æ‹Ÿå‡ºç™¾ä¸‡é‡çº§çš„æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å­˜å‚¨è¿‡ç¨‹æ¥å®ç°æ¨¡æ‹Ÿæ•°æ®ã€‚</p><p>ä¸‹é¢æ˜¯ç»™ç”¨æˆ·è¡¨éšæœºç”Ÿæˆ100ä¸‡ç”¨æˆ·çš„ä»£ç ï¼š</p><pre><code>CREATE DEFINER=`root`@`localhost` PROCEDURE `insert_many_user`(IN start INT(10), IN max_num INT(10))
BEGIN
DECLARE i INT DEFAULT 0;
DECLARE date_start DATETIME DEFAULT ('2017-01-01 00:00:00');
DECLARE date_temp DATETIME;
SET date_temp = date_start;
SET autocommit=0;
REPEAT
SET i=i+1;
SET date_temp = date_add(date_temp, interval RAND()*60 second);
INSERT INTO user(user_id, user_name, create_time)
VALUES((start+i), CONCAT('user_',i), date_temp);
UNTIL i = max_num
END REPEAT;
COMMIT;
END
</code></pre><p>æˆ‘ç”¨date_startå˜é‡æ¥å®šä¹‰åˆå§‹çš„æ³¨å†Œæ—¶é—´ï¼Œæ—¶é—´ä¸º2017å¹´1æœˆ1æ—¥0ç‚¹0åˆ†0ç§’ï¼Œç„¶åç”¨date_tempå˜é‡è®¡ç®—æ¯ä¸ªç”¨æˆ·çš„æ³¨å†Œæ—¶é—´ï¼Œæ–°çš„æ³¨å†Œç”¨æˆ·ä¸ä¸Šä¸€ä¸ªç”¨æˆ·æ³¨å†Œçš„æ—¶é—´é—´éš”ä¸º60ç§’å†…çš„éšæœºå€¼ã€‚ç„¶åä½¿ç”¨REPEAT â€¦ UNTIL â€¦ END REPEATå¾ªç¯ï¼Œå¯¹max_numä¸ªç”¨æˆ·çš„æ•°æ®è¿›è¡Œè®¡ç®—ã€‚åœ¨å¾ªç¯å‰ï¼Œæˆ‘ä»¬å°†autocommitè®¾ç½®ä¸º0ï¼Œè¿™æ ·ç­‰è®¡ç®—å®Œæˆå†ç»Ÿä¸€æ’å…¥ï¼Œæ‰§è¡Œæ•ˆç‡æ›´é«˜ã€‚</p><p>ç„¶åæˆ‘ä»¬æ¥è¿è¡Œcall insert_many_user(10000, 1000000);è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ã€‚è¿™é‡Œéœ€è¦é€šè¿‡startå’Œmax_numä¸¤ä¸ªå‚æ•°å¯¹åˆå§‹çš„user_idå’Œè¦åˆ›å»ºçš„ç”¨æˆ·æ•°é‡è¿›è¡Œè®¾ç½®ã€‚è¿è¡Œç»“æœï¼š</p><p><img src="https://static001.geekbang.org/resource/image/e7/36/e716bfa9153fea2c4bc524946796a036.png" alt=""><br>
ä½ èƒ½çœ‹åˆ°åœ¨MySQLé‡Œï¼Œåˆ›å»º100ä¸‡çš„ç”¨æˆ·æ•°æ®ç”¨æ—¶1åˆ†37ç§’ã€‚</p><p>æ¥ç€æˆ‘ä»¬å†æ¥ç»™å•†å“è¯„è®ºè¡¨product_commentéšæœºç”Ÿæˆ100ä¸‡æ¡å•†å“è¯„è®ºã€‚è¿™é‡Œæˆ‘ä»¬è®¾ç½®ä¸ºç»™æŸä¸€æ¬¾å•†å“è¯„è®ºï¼Œæ¯”å¦‚product_id=10001ã€‚è¯„è®ºçš„å†…å®¹ä¸ºéšæœºçš„20ä¸ªå­—æ¯ã€‚ä»¥ä¸‹æ˜¯åˆ›å»ºéšæœºçš„100ä¸‡æ¡å•†å“è¯„è®ºçš„å­˜å‚¨è¿‡ç¨‹ï¼š</p><pre><code>CREATE DEFINER=`root`@`localhost` PROCEDURE `insert_many_product_comments`(IN START INT(10), IN max_num INT(10))
BEGIN
DECLARE i INT DEFAULT 0;
DECLARE date_start DATETIME DEFAULT ('2018-01-01 00:00:00');
DECLARE date_temp DATETIME;
DECLARE comment_text VARCHAR(25);
DECLARE user_id INT;
SET date_temp = date_start;
SET autocommit=0;
REPEAT
SET i=i+1;
SET date_temp = date_add(date_temp, INTERVAL RAND()*60 SECOND);
SET comment_text = substr(MD5(RAND()),1, 20);
SET user_id = FLOOR(RAND()*1000000);
INSERT INTO product_comment(comment_id, product_id, comment_text, comment_time, user_id)
VALUES((START+i), 10001, comment_text, date_temp, user_id);
UNTIL i = max_num
END REPEAT;
COMMIT;
END
</code></pre><p>åŒæ ·çš„ï¼Œæˆ‘ç”¨date_startå˜é‡æ¥å®šä¹‰åˆå§‹çš„è¯„è®ºæ—¶é—´ã€‚è¿™é‡Œæ–°çš„è¯„è®ºæ—¶é—´ä¸ä¸Šä¸€ä¸ªè¯„è®ºçš„æ—¶é—´é—´éš”è¿˜æ˜¯60ç§’å†…çš„éšæœºå€¼ï¼Œå•†å“è¯„è®ºè¡¨ä¸­çš„user_idä¸ºéšæœºå€¼ã€‚æˆ‘ä»¬ä½¿ç”¨REPEAT â€¦ UNTIL â€¦ END REPEATå¾ªç¯ï¼Œæ¥å¯¹max_numä¸ªå•†å“è¯„è®ºçš„æ•°æ®è¿›è¡Œè®¡ç®—ã€‚</p><p>ç„¶åè°ƒç”¨å­˜å‚¨è¿‡ç¨‹ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/23/c1/2346454ce5be3e50e1419960b15b60c1.png" alt=""><br>
MySQLä¸€å…±èŠ±äº†2åˆ†7ç§’å®Œæˆäº†å•†å“è¯„è®ºæ•°æ®çš„åˆ›å»ºã€‚</p><h2>åèŒƒå¼ä¼˜åŒ–å®éªŒå¯¹æ¯”</h2><p>å¦‚æœæˆ‘ä»¬æƒ³è¦æŸ¥è¯¢æŸä¸ªå•†å“IDï¼Œæ¯”å¦‚10001çš„å‰1000æ¡è¯„è®ºï¼Œéœ€è¦å†™æˆä¸‹é¢è¿™æ ·ï¼š</p><pre><code>SELECT p.comment_text, p.comment_time, u.user_name FROM product_comment AS p 
LEFT JOIN user AS u 
ON p.user_id = u.user_id 
WHERE p.product_id = 10001 
ORDER BY p.comment_id DESC LIMIT 1000
</code></pre><p>è¿è¡Œç»“æœï¼ˆ1000æ¡æ•°æ®è¡Œï¼‰ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/18/ae/18b242e516e0e9ebd68ca7b7d1e1d9ae.png" alt=""><br>
è¿è¡Œæ—¶é•¿ä¸º0.395ç§’ï¼ŒæŸ¥è¯¢æ•ˆç‡å¹¶ä¸é«˜ã€‚</p><p>è¿™æ˜¯å› ä¸ºåœ¨å®é™…ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬åœ¨æ˜¾ç¤ºå•†å“è¯„è®ºçš„æ—¶å€™ï¼Œé€šå¸¸ä¼šæ˜¾ç¤ºè¿™ä¸ªç”¨æˆ·çš„æ˜µç§°ï¼Œè€Œä¸æ˜¯ç”¨æˆ·IDï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦å…³è”product_commentå’Œuserè¿™ä¸¤å¼ è¡¨æ¥è¿›è¡ŒæŸ¥è¯¢ã€‚å½“è¡¨æ•°æ®é‡ä¸å¤§çš„æ—¶å€™ï¼ŒæŸ¥è¯¢æ•ˆç‡è¿˜å¥½ï¼Œä½†å¦‚æœè¡¨æ•°æ®é‡éƒ½è¶…è¿‡äº†ç™¾ä¸‡é‡çº§ï¼ŒæŸ¥è¯¢æ•ˆç‡å°±ä¼šå˜ä½ã€‚è¿™æ˜¯å› ä¸ºæŸ¥è¯¢ä¼šåœ¨product_commentè¡¨å’Œuserè¡¨è¿™ä¸¤ä¸ªè¡¨ä¸Šè¿›è¡Œèšé›†ç´¢å¼•æ‰«æï¼Œç„¶åå†åµŒå¥—å¾ªç¯ï¼Œè¿™æ ·ä¸€æ¥æŸ¥è¯¢æ‰€è€—è´¹çš„æ—¶é—´å°±æœ‰å‡ ç™¾æ¯«ç§’ç”šè‡³æ›´å¤šã€‚å¯¹äºç½‘ç«™çš„å“åº”æ¥è¯´ï¼Œè¿™å·²ç»å¾ˆæ…¢äº†ï¼Œç”¨æˆ·ä½“éªŒä¼šéå¸¸å·®ã€‚</p><p>å¦‚æœæˆ‘ä»¬æƒ³è¦æå‡æŸ¥è¯¢çš„æ•ˆç‡ï¼Œå¯ä»¥å…è®¸é€‚å½“çš„æ•°æ®å†—ä½™ï¼Œä¹Ÿå°±æ˜¯åœ¨å•†å“è¯„è®ºè¡¨ä¸­å¢åŠ ç”¨æˆ·æ˜µç§°å­—æ®µï¼Œåœ¨product_commentæ•°æ®è¡¨çš„åŸºç¡€ä¸Šå¢åŠ user_nameå­—æ®µï¼Œå°±å¾—åˆ°äº†product_comment2æ•°æ®è¡¨ã€‚</p><p>ä½ å¯ä»¥åœ¨<a href="https://pan.baidu.com/s/104t0vIlrA4nypu_PZIXG0w">ç™¾åº¦ç½‘ç›˜</a>ä¸­ä¸‹è½½è¿™ä¸‰å¼ æ•°æ®è¡¨product_commentã€product_comment2å’Œuserè¡¨ï¼Œå¯†ç ä¸ºn3l8ã€‚</p><p>è¿™æ ·ä¸€æ¥ï¼Œåªéœ€å•è¡¨æŸ¥è¯¢å°±å¯ä»¥å¾—åˆ°æ•°æ®é›†ç»“æœï¼š</p><pre><code>SELECT comment_text, comment_time, user_name FROM product_comment2 WHERE product_id = 10001 ORDER BY comment_id DESC LIMIT 1000
</code></pre><p>è¿è¡Œç»“æœï¼ˆ1000æ¡æ•°æ®ï¼‰ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/af/2c/af1be5874a9e20414de1ec48775e392c.png" alt=""><br>
ä¼˜åŒ–ä¹‹ååªéœ€è¦æ‰«æä¸€æ¬¡èšé›†ç´¢å¼•å³å¯ï¼Œè¿è¡Œæ—¶é—´ä¸º0.039ç§’ï¼ŒæŸ¥è¯¢æ—¶é—´æ˜¯ä¹‹å‰çš„1/10ã€‚  ä½ èƒ½çœ‹åˆ°ï¼Œåœ¨æ•°æ®é‡å¤§çš„æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢æ•ˆç‡ä¼šæœ‰æ˜¾è‘—çš„æå‡ã€‚</p><h2>åèŒƒå¼å­˜åœ¨çš„é—®é¢˜&amp;é€‚ç”¨åœºæ™¯</h2><p>ä»ä¸Šé¢çš„ä¾‹å­ä¸­å¯ä»¥çœ‹å‡ºï¼ŒåèŒƒå¼å¯ä»¥é€šè¿‡ç©ºé—´æ¢æ—¶é—´ï¼Œæå‡æŸ¥è¯¢çš„æ•ˆç‡ï¼Œä½†æ˜¯åèŒƒå¼ä¹Ÿä¼šå¸¦æ¥ä¸€äº›æ–°é—®é¢˜ã€‚</p><p>åœ¨æ•°æ®é‡å°çš„æƒ…å†µä¸‹ï¼ŒåèŒƒå¼ä¸èƒ½ä½“ç°æ€§èƒ½çš„ä¼˜åŠ¿ï¼Œå¯èƒ½è¿˜ä¼šè®©æ•°æ®åº“çš„è®¾è®¡æ›´åŠ å¤æ‚ã€‚æ¯”å¦‚é‡‡ç”¨å­˜å‚¨è¿‡ç¨‹æ¥æ”¯æŒæ•°æ®çš„æ›´æ–°ã€åˆ é™¤ç­‰é¢å¤–æ“ä½œï¼Œå¾ˆå®¹æ˜“å¢åŠ ç³»ç»Ÿçš„ç»´æŠ¤æˆæœ¬ã€‚</p><p>æ¯”å¦‚ç”¨æˆ·æ¯æ¬¡æ›´æ”¹æ˜µç§°çš„æ—¶å€™ï¼Œéƒ½éœ€è¦æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹æ¥æ›´æ–°ï¼Œå¦‚æœæ˜µç§°æ›´æ”¹é¢‘ç¹ï¼Œä¼šéå¸¸æ¶ˆè€—ç³»ç»Ÿèµ„æºã€‚</p><p>é‚£ä¹ˆåèŒƒå¼ä¼˜åŒ–é€‚ç”¨äºå“ªäº›åœºæ™¯å‘¢ï¼Ÿ</p><p>åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä¸€äº›å†—ä½™ä¿¡æ¯ï¼Œæ¯”å¦‚è®¢å•ä¸­çš„æ”¶è´§äººä¿¡æ¯ï¼ŒåŒ…æ‹¬å§“åã€ç”µè¯å’Œåœ°å€ç­‰ã€‚æ¯æ¬¡å‘ç”Ÿçš„è®¢å•æ”¶è´§ä¿¡æ¯éƒ½å±äºå†å²å¿«ç…§ï¼Œéœ€è¦è¿›è¡Œä¿å­˜ï¼Œä½†ç”¨æˆ·å¯ä»¥éšæ—¶ä¿®æ”¹è‡ªå·±çš„ä¿¡æ¯ï¼Œè¿™æ—¶ä¿å­˜è¿™äº›å†—ä½™ä¿¡æ¯æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚</p><p>å½“å†—ä½™ä¿¡æ¯æœ‰ä»·å€¼æˆ–è€…èƒ½å¤§å¹…åº¦æé«˜æŸ¥è¯¢æ•ˆç‡çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡‡å–åèŒƒå¼çš„ä¼˜åŒ–ã€‚</p><p>æ­¤å¤–åèŒƒå¼ä¼˜åŒ–ä¹Ÿå¸¸ç”¨åœ¨æ•°æ®ä»“åº“çš„è®¾è®¡ä¸­ï¼Œå› ä¸ºæ•°æ®ä»“åº“é€šå¸¸å­˜å‚¨å†å²æ•°æ®ï¼Œå¯¹å¢åˆ æ”¹çš„å®æ—¶æ€§è¦æ±‚ä¸å¼ºï¼Œå¯¹å†å²æ•°æ®çš„åˆ†æéœ€æ±‚å¼ºã€‚è¿™æ—¶é€‚å½“å…è®¸æ•°æ®çš„å†—ä½™åº¦ï¼Œæ›´æ–¹ä¾¿è¿›è¡Œæ•°æ®åˆ†æã€‚</p><p>æˆ‘ç®€å•æ€»ç»“ä¸‹æ•°æ®ä»“åº“å’Œæ•°æ®åº“åœ¨ä½¿ç”¨ä¸Šçš„åŒºåˆ«ï¼š</p><ol>
<li>æ•°æ®åº“è®¾è®¡çš„ç›®çš„åœ¨äºæ•è·æ•°æ®ï¼Œè€Œæ•°æ®ä»“åº“è®¾è®¡çš„ç›®çš„åœ¨äºåˆ†ææ•°æ®ï¼›</li>
<li>æ•°æ®åº“å¯¹æ•°æ®çš„å¢åˆ æ”¹å®æ—¶æ€§è¦æ±‚å¼ºï¼Œéœ€è¦å­˜å‚¨åœ¨çº¿çš„ç”¨æˆ·æ•°æ®ï¼Œè€Œæ•°æ®ä»“åº“å­˜å‚¨çš„ä¸€èˆ¬æ˜¯å†å²æ•°æ®ï¼›</li>
<li>æ•°æ®åº“è®¾è®¡éœ€è¦å°½é‡é¿å…å†—ä½™ï¼Œä½†ä¸ºäº†æé«˜æŸ¥è¯¢æ•ˆç‡ä¹Ÿå…è®¸ä¸€å®šçš„å†—ä½™åº¦ï¼Œè€Œæ•°æ®ä»“åº“åœ¨è®¾è®¡ä¸Šæ›´åå‘é‡‡ç”¨åèŒƒå¼è®¾è®¡ã€‚</li>
</ol><h2>æ€»ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬è®²äº†BCNFï¼Œå®ƒæ˜¯åŸºäº3NFè¿›è¡Œçš„æ”¹è¿›ã€‚ä½ èƒ½çœ‹åˆ°è®¾è®¡èŒƒå¼è¶Šé«˜é˜¶ï¼Œæ•°æ®è¡¨å°±ä¼šè¶Šç²¾ç»†ï¼Œæ•°æ®çš„å†—ä½™åº¦ä¹Ÿå°±è¶Šå°‘ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥è®©æ•°æ®åº“åœ¨å†…éƒ¨å…³è”ä¸Šæ›´å¥½åœ°ç»„ç»‡æ•°æ®ã€‚ä½†æœ‰æ—¶å€™æˆ‘ä»¬ä¹Ÿéœ€è¦é‡‡ç”¨åèŒƒè¿›è¡Œä¼˜åŒ–ï¼Œé€šè¿‡ç©ºé—´æ¥æ¢å–æ—¶é—´ã€‚</p><p>èŒƒå¼æœ¬èº«æ²¡æœ‰ä¼˜åŠ£ä¹‹åˆ†ï¼Œåªæœ‰é€‚ç”¨åœºæ™¯ä¸åŒã€‚æ²¡æœ‰å®Œç¾çš„è®¾è®¡ï¼Œåªæœ‰åˆé€‚çš„è®¾è®¡ï¼Œæˆ‘ä»¬åœ¨æ•°æ®è¡¨çš„è®¾è®¡ä¸­ï¼Œè¿˜éœ€è¦æ ¹æ®éœ€æ±‚å°†èŒƒå¼å’ŒåèŒƒå¼æ··åˆä½¿ç”¨ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/d6/c3/d6ba87fba986d721e95cb5b3bb1e35c3.png" alt=""><br>
æˆ‘ä»¬ä»Šå¤©ä¸¾äº†ä¸€ä¸ªåèŒƒå¼è®¾è®¡çš„ä¾‹å­ï¼Œä½ åœ¨å·¥ä½œä¸­æ˜¯å¦æœ‰åšè¿‡åèŒƒå¼è®¾è®¡çš„ä¾‹å­ï¼Ÿæ¬¢è¿ä½ åœ¨è¯„è®ºåŒºä¸æˆ‘ä»¬ä¸€èµ·åˆ†äº«ï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ï¼Œä¸€èµ·äº¤æµä¸€ä¸‹ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/4f/58/4fd70a3267ad5aeb8c531f0996642f58.jpg" alt=""></p><h2>ç²¾é€‰ç•™è¨€ï¼š</h2>
        <ul>
        
<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            è€æ¯•  2019-07-31 08:25:33
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ä¸€è¨€ä»¥è”½ä¹‹ï¼šåèŒƒå¼æ— å¤„ä¸åœ¨ã€‚ğŸ˜ƒ<br><br>æœ€è¿‘æ­£åœ¨åŸºäºHadoopå»ºè®¾æŸå›½ä¼çš„æ•°æ®é›†å¸‚é¡¹ç›®ï¼ˆåœ°åŸŸæ€§éå…¨ç½‘ï¼‰ï¼Œæ°å¦‚è€å¸ˆæ‰€è¨€ï¼Œæˆ‘ä»¬å°±æ˜¯åœ¨éµå¾ªåèŒƒå¼çš„è®¾è®¡ã€‚<br><br>ç®€è¦æ¥è¯´ï¼Œæˆ‘ä»¬æŠŠæ•°æ®åŠ å·¥é“¾è·¯åˆ†ä¸ºå››å±‚ï¼Œä»ä¸‹åˆ°ä¸Šä¾æ¬¡ä¸ºï¼šODSè´´æºå±‚ã€DWDæ˜ç»†å±‚ã€DWSæ±‡æ€»å±‚å’ŒADSåº”ç”¨å±‚ã€‚<br><br>å¤šæºå¼‚æ„çš„ä¸šåŠ¡æ•°æ®è¢«æºæºä¸æ–­ETLåˆ°ODSè´´æºå±‚ä¹‹åï¼Œç»è¿‡æ¸…æ´—ã€è§„èŒƒã€è½¬æ¢ã€æ‹¼æ¥ç­‰ï¼Œç”Ÿæˆå„ç±»å®½è¡¨å­˜å‚¨åœ¨DWDæ˜ç»†å±‚ï¼›å†æ ¹æ®ä¸šåŠ¡æ¨¡å‹è®¾è®¡ï¼Œä»¥è¿™äº›å®½è¡¨ä¸ºåŸºç¡€ï¼Œç”Ÿæˆå„ç±»æ ‡å‡†çš„æŒ‡æ ‡æ•°æ®å­˜å‚¨åœ¨DWSæ±‡æ€»å±‚ï¼›ADSå±‚åˆ™åŸºäºDWSå±‚çš„æ±‡æ€»æŒ‡æ ‡å†åº¦ç»„åˆï¼Œè®¡ç®—å¾—å‡ºåº”ç”¨å±‚æ•°æ®ï¼Œç›´æ¥é¢å‘ä¸šåŠ¡éœ€æ±‚ã€‚<br><br>åœ¨è¿™æ ·çš„ç³»ç»Ÿè®¾è®¡ä¸­ï¼ŒåèŒƒå¼ä¸ä»…ä½“ç°åœ¨â€œå®½è¡¨â€çš„è®¾è®¡ä¸­ï¼Œæ›´ä½“ç°åœ¨æ•°æ®åŠ å·¥é“¾è·¯çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸä¸­â€”â€”ä¸Šå±‚éƒ½æ˜¯å¯¹ä¸‹å±‚çš„å†—ä½™ã€‚ [8èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            ç››  2019-07-31 06:27:50
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
                   ä¸ªäººå¯¹äºåèŒƒå¼çš„ç†è§£æ˜¯ï¼šå®ƒä¼šé€ æˆæ•°æ®çš„å†—ä½™ç”šè‡³æ˜¯è¡¨ä¸è¡¨ä¹‹é—´çš„å†—ä½™ï¼›ä¸è¿‡å®ƒæœ€å¤§çš„å¥½å¤„æ˜¯å‡å°‘äº†è®¸å¤šè·¨è¡¨æŸ¥è¯¢ä»è€Œå¤§å¹…å‡å°‘äº†æŸ¥è¯¢æ—¶é—´ã€‚æ—©æœŸçš„è®¾è®¡å…¶å®ä¸€ç›´å¼ºè°ƒèŒƒå¼åŒ–è®¾è®¡ï¼Œå¯æ˜¯å½“memcacheå‡ºç°å-å…¶å®å°±åå‘åœ¨æ­ç¤ºèŒƒå¼çš„ä¸è¶³ã€‚<br>       äº’è”ç½‘è¡Œä¸šå’Œä¼ ç»Ÿè¡Œä¸šæœ€å¤§çš„åŒºåˆ«æ˜¯è¦æ±‚ç›¸åº”æ—¶é—´çš„çŸ­æš‚ï¼šè¿™å°±é€ æˆäº†æ•ˆç‡ä¼˜å…ˆï¼Œè¿™å…¶å®ä¹Ÿæ˜¯ä¸ºä½•äº’è”ç½‘è¡Œä¸šçš„æŠ€æœ¯æ›´æ–°å’Œä½¿ç”¨èµ°åœ¨æœ€å‰é¢ã€‚æ›¾ç»ç»å†è¿‡è®¾è®¡è¡¨çš„è¿‡ç¨‹ä¸­å°½åŠ›è¿½æ±‚èŒƒå¼ï¼Œå¯æ˜¯æœ€ç»ˆå‘ç°å¸¦æ¥çš„é—®é¢˜å°±æ˜¯æ€§èƒ½çš„ä¸è¶³ï¼›èŒƒå¼å…¶å®å°±æ˜¯è§„èŒƒï¼Œå¯æ˜¯å®Œå®Œå…¨å…¨çš„è§„èŒƒ-ç¢°åˆ°ç‰¹æ®Šåœºæ™¯å°±ä¸èƒ½é‚£æ ·ä½¿ç”¨ã€‚10å¹´å‰æ¥è§¦åˆ°éå…³ç³»å‹æ•°æ®åº“æ—¶å°±å¼•å‘äº†è¿™ç§æ€è€ƒï¼Œsql serverå’Œmysqlçš„æœºåˆ¶å’ŒæŸ¥è¯¢ç‰¹é•¿çš„ä¸åŒæ›´åŠ å¼•å‘äº†è‡ªå·±å¯¹äºèŒƒå¼çš„åæ€ã€‚<br>      å…¶å®ä¸åŒæ•°æ®åº“å¯¹äºèŒƒå¼çš„æ“ä½œåº”å½“æ˜¯ä¸åŒçš„ä¸åŒè¡Œä¸šå¯¹äºæ•ˆç‡çš„è¦æ±‚æ˜¯ä¸åŒçš„ï¼šæˆ‘è§‰å¾—èŒƒå¼ä¸åèŒƒå¼çš„å…³ç³»å¯èƒ½æœ‰ç‚¹åƒç°åœ¨å…³ç³»å‹æ•°æ®åº“å’Œéå…³ç³»å‹æ•°æ®åº“çš„ä½¿ç”¨ä¸€æ ·ï¼Œå·²ç»ä¸å†æ˜¯å•ä¸€åŒ–ï¼Œå¦‚ä½•è®©äºŒè€…åˆç†ç»“åˆæœ€å¤§å‘æŒ¥æ•°æ®åº“çš„æŸ¥è¯¢æ•ˆç‡æ‰æ˜¯å…³é”®-åªæœ‰æœ€åˆé€‚çš„æ²¡æœ‰æœ€å¥½çš„ï¼›å½“æˆ‘ä»¬è¿‡åº¦çš„è¿½æ±‚æ ‡å‡†åŒ–æ—¶åè€Œä¼šå¿½è§†äº†äº§å“çœŸå®çš„åŠŸèƒ½è€…ä½œç”¨ï¼Œå¦‚ä½•å……åˆ†åˆç†å‘æŒ¥äº§å“æ€§èƒ½å…¶å®æ‰æ˜¯æˆ‘ä»¬æ‰€è¿½æ±‚çš„ã€‚<br>         è€å¸ˆè§‰å¾—å‘¢ï¼šæ²¡æœ‰æœ€æ ‡å‡†çš„ï¼Œä»»ä½•æ–¹å¼éƒ½æœ‰ç¼ºé™·ï¼Œæ²¡æœ‰æœ€å¥½çš„åªæœ‰æœ€åˆé€‚çš„ï¼›å°±åƒGoogle çš„SREä¸­æœ‰å¥ç»å…¸çš„è¯â€œæ²¡æœ‰é—®é¢˜çš„ç¨‹åºæ˜¯ç¨‹åºçš„ç‰¹æ®ŠçŠ¶æ€â€ã€‚ [1èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            åƒé¥­é¥­  2019-08-02 18:29:27
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            é—®ä¸ªé—®é¢˜ï¼šã€æˆ‘ä»¬å°±å¯ä»¥æ‰¾åˆ°æ•°æ®è¡¨çš„å€™é€‰é”®æ˜¯ï¼ˆç®¡ç†å‘˜ï¼Œç‰©å“åï¼‰å’Œï¼ˆä»“åº“åï¼Œç‰©å“åï¼‰ã€‘è¿™é‡Œä¸å¤ªæ˜ç™½ï¼Œå¦‚æœæˆ‘é€‰æ‹©ã€å€™é€‰é”®æ˜¯ï¼ˆä»“åº“åï¼Œç‰©å“åï¼‰å’Œï¼ˆç®¡ç†å‘˜ï¼Œç‰©å“åï¼‰ã€‘å¯ä¸å¯ä»¥ï¼Ÿ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å·æ°  2019-08-01 21:10:28
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è€å¸ˆæ‚¨å¥½ï¼Œæƒ³é—®ä¸ªé—®é¢˜ï¼›å‡è®¾æˆ‘åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­ï¼Œç”¨åˆ°äº†ä¸€ä¸ªä¸´æ—¶è¡¨ï¼ˆä½œç”¨å°±æ˜¯ä¿å­˜ä¸­é—´æ•°æ®ä»¥ä¾¿åç»­åšå…¶ä»–æ“ä½œï¼‰ï¼Œå…ˆå¯¹ä¸´æ—¶è¡¨è¿›è¡Œæ•°æ®åˆ é™¤æ“ä½œï¼Œç„¶åå¯¹ä¸´æ—¶è¡¨è¿›è¡Œæ’å…¥æ“ä½œã€‚å‡è®¾ç°åœ¨æœ‰ä¸¤ä¸ªäººA,BåŒæ—¶è°ƒç”¨è¯¥å­˜å‚¨è¿‡ç¨‹ï¼Œæ˜¯å¦å­˜åœ¨å¦‚ä¸‹é£é™©ï¼Œå³ï¼šAæ‰§è¡Œå­˜å‚¨è¿‡ç¨‹æ—¶ï¼Œæ­£åœ¨åˆ é™¤æ•°æ®ï¼ŒåŒä¸€æ—¶åˆ»ï¼ŒBæ‰§è¡Œå­˜å‚¨è¿‡ç¨‹æ—¶ï¼Œæ–°å¢æ•°æ®ï¼Ÿ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            ABC  2019-08-01 00:05:49
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè¯·é—®è€å¸ˆï¼Œå¦‚æœä¸€ä¸ªå­—æ®µå†…å®¹å­˜çš„æ˜¯:<br><br>ä¼šå‘˜ID@ä¼šå‘˜åç§°<br><br>è¿™æ ·æ˜¯ä¸æ˜¯ç®—è¿åç¬¬ä¸€èŒƒå¼ï¼Ÿåœ¨å·¥ä½œä¸­é‡åˆ°è¿‡ç±»ä¼¼æ–¹å¼å­˜å‚¨çš„æ•°æ®ï¼Œä½†ç”±äºå†å²æ•°æ®å’Œç‰µæ¶‰è¿‡å¤šçš„åŸå› ï¼Œå·²ç»æ— æ³•ä¿®æ”¹ã€‚ã€‚<br><br>åœ¨æ¯æ¬¡åšç»Ÿè®¡ç±»éœ€æ±‚çš„æ—¶å€™ï¼Œå°±ä¼šç”¨åèŒƒå¼è®¾è®¡ï¼Œæ–¹ä¾¿æŸ¥è¯¢ï¼Œè€Œä¸”é€Ÿåº¦ä¼šå¾ˆå¿«ã€‚<br><br><br> 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            åºŠå¤´çŒ«ğŸ±  2019-07-31 20:17:02
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è€å¸ˆä½ å¥½ï¼Œæœ‰ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘è¿™é‡Œæœ‰å››å¼ è¡¨éƒ½æ˜¯1å¯¹1å…³è”çš„ï¼Œæ•°æ®é‡å¤§æ¦‚å››åƒå¤šä¸‡ï¼Œç”¨left joinå’Œåˆ†å››æ¡sqlæŸ¥ï¼Œå“ªä¸ªæ›´å¥½ä¸€ç‚¹ï¼Œoracleæ•°æ®åº“ï¼Œä¸¤ç§æ–¹å¼éƒ½ä¼šå‘½ä¸­ç´¢å¼• 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å¤œè·¯ç ´æ™“  2019-07-31 14:10:43
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            èŒƒå¼ä¸åèŒƒå¼ï¼Œæ­£å¦‚ä¼ ç»Ÿä¸è§£æ„ï¼Œè§„åˆ™ä¸åŠ¡å®ï¼Œç¨³å®šä¸çªç ´ï¼Œå®ˆæˆä¸åˆ›æ–°ï¼Œæ˜¯é˜´é˜³åŠ¨é™çš„çŸ›ç›¾å…³ç³»ï¼Œä¸¤è€…ä¸€è€ŒäºŒï¼ŒäºŒè€Œä¸€ï¼Œå³å’Œè€Œä¸åŒã€æ±‚åŒå­˜å¼‚ï¼Œè½è„šç‚¹æ˜¯åŠ¡å®ï¼Œä¹Ÿå°±æ˜¯åº”ç”¨åœºæ™¯å’Œä¸šåŠ¡éœ€æ±‚ã€‚<br>æ‰€ä»¥è¯´ï¼Œè¿™å·²ç»ä¸å•æ˜¯æ•°æ®åº“è®¾è®¡çš„é—®é¢˜ï¼Œè€Œä¸­å›½å“²å­¦ä½“ç³»åœ¨äº’è”ç½‘å•†ä¸šä¸­å®è·µæŒ‡å¯¼ã€‚<br>æ•°æ®åº“è®¾è®¡æå‡ºèŒƒå¼çš„åŒæ—¶å­˜åœ¨åèŒƒå¼çš„è¦æ±‚ï¼Œç¬¦åˆå¦å®šä¹‹å¦å®šçš„èºæ—‹ä¸Šå‡è½¨è¿¹ï¼Œæ˜¯æ•°æ®åº“ä¹Ÿæ˜¯SQLè¯­è¨€ä¿æŒå¼ºå£®ç”Ÿå‘½åŠ›è€Œç»ä¹…ä¸è¡°çš„é‡è¦åŸå› ï¼Œæ˜¯ç°å®ç”Ÿå­˜é€»è¾‘çš„æ˜ å°„ã€‚ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å…¨æœ‰  2019-07-31 14:00:36
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è€å¸ˆä½ å¥½ï¼ŒæŠ›å¼€æœ¬æ¬¡è¯¾ç¨‹ï¼Œé—®ä¸€ä¸ªç°è±¡ï¼š<br>æ…¢æŸ¥è¯¢æ—¥å¿—å¦‚ä¸‹ï¼š<br># Query_time: 10.612971  Lock_time: 0.000000 Rows_sent: 0  Rows_examined: 0<br>SET timestamp=1564551836;<br>commit;<br><br>ä¸¤ä¸ªé—®é¢˜ï¼š<br>1ï¼šCommit æ˜¯å¦‚ä½•å‘ç”Ÿçš„ï¼Œåšå•¦ä»€ä¹ˆäº‹ï¼Ÿ<br>2:  æ‰€è€—æ—¶é•¿ä¸ºä»€ä¹ˆä¼šé‚£ä¹ˆä¹…ï¼Ÿ  
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            è®¸ç«¥ç«¥  2019-07-31 11:42:06
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è€å¸ˆä½ å¥½ï¼Œé—®ä¸ªé—®é¢˜ã€‚å¦‚æœç”¨è®°è¡¨å›½ç”¨æˆ·åç§°å­—æ®µä¿®æ”¹äº†ï¼Œé‚£è¯„è®ºè¡¨ä¸­ç”¨æˆ·åç§°æ˜¯å¦è¦è·Ÿç€æ”¹å‘¢ã€‚è¿™ä¸ªæ€ä¹ˆå¤„ç†ï¼Ÿ 
        </div>
        
    </div>
</li>
            </ul>
</div>
</body>
</html>